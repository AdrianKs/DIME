<!--
  Generated template for the ViewActivityPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>{{category}}</ion-title>
    <ion-buttons end>
      <button ion-button icon-only (click)="shareWithOptions()">
        <ion-icon name="share"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <div class="picture-container">
    <img class="activity-profile-picture" src="{{picURL}}" (click)="navigateToProfile()">
  </div>
  <ion-list no-lines>
    <ion-item>
      <ion-label class="center-contents">
        Von {{creatorName}}
      </ion-label>
    </ion-item>
  </ion-list>
  <div *ngIf="!eventByUser">
  <div class="center-contents participate-button" *ngIf="!participating">
    <button ion-button outline color="secondary" type="button" (click)="participateOnEvent()">Teilnehmen</button>
  </div>
  <div class="center-contents participate-button" *ngIf="participating">
    <button ion-button outline color="danger" type="button" (click)="declineEvent()">Absagen</button>
  </div>
  </div>

  <div *ngIf="eventByUser">
    <div class="center-contents participate-button">
    <button ion-button outline color="danger" type="button" (click)="deleteEvent()">Meine Aktivität löschen</button>
  </div>
  </div>

  <ion-list>
    <ion-list-header>
      Informationen zur Aktivität
    </ion-list-header>
    <ion-item>
      <ion-label>Treffpunkt:
      </ion-label>
      <ion-label class="text-aligned-right">{{locationName}}
      </ion-label>
    </ion-item>
    <ion-item>
      <ion-label>Uhrzeit:
      </ion-label>
      <ion-label class="text-aligned-right">{{activityTime | time }}</ion-label>
    </ion-item>
    <ion-item>
      <ion-label>Beschreibung:
      </ion-label>
      <ion-label class="text-aligned-right">{{description}}</ion-label>
    </ion-item>
  </ion-list>
  <ion-list>
    <ion-list-header>
      Teilnehmer ({{attendeeCount}} von {{maxAttendees}} angemeldet)
    </ion-list-header>
    <p style="text-align: center; font-size: 15px;" *ngIf="attendees.length == 0">Noch keine Teilnehmer!</p>
    <ion-item *ngFor='let p of attendees'>
      <div class="left-container"><img class="user-profile-picture" src="{{p.picURL}}"></div>
      <div class="right-container">
          {{p.name}} ({{p.minAge}} Jahre)
      </div>
    </ion-item>
  </ion-list>
</ion-content>
